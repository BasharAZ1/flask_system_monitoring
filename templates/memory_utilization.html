<!DOCTYPE html>
<html>
<title>W3.CSS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<body>

<div class="w3-container">
  <h2>Memory Utilization</h2>

  <p> Total Memory: {{total_memory}}</p>

  <table class="w3-table-all w3-hoverable">

    <thead>
      <tr class="w3-light-grey">
        <th>PID</th>
        <th>Name</th>
        <th>Status</th>
        <th>Start_Date</th>

      </tr>
    </thead>
    <tr>
      <td>123</td>
      <td>p1</td>
      <td>456</td>
      <td>789</td>
    </tr>
    <tr>
      <td>321</td>
      <td>p2</td>
      <td>543</td>
      <td>421</td>
    </tr>
    <tr>
      <td>678</td>
      <td>p4</td>
      <td>999</td>
      <td>67</td>
    </tr>
  </table>
</div>
<br>

<!--<button class="btn"><i class="fa fa-home"></i>HOME</button>-->
<form>
 <input type="button" value="Home" onclick="history.back()">
</form>
<script>
  function fetchMemoryData() {
      fetch('/memory_data')
          .then(response => response.json())
          .then(data => {
              const list = data.map(mem => 
                  `<li>Time: ${mem.measurement_time}, Used: ${mem.used}, Active: ${mem.active}, Inactive: ${mem.inactive}, Usage: ${mem.usage_percent}%</li>`
              ).join('');
              document.getElementById('dynamic-memory-info').innerHTML = `<ul>${list}</ul>`;
          })
          .catch(error => console.error('Error fetching memory data:', error));
  }
  
  // Fetch memory data every 60 seconds
  setInterval(fetchMemoryData, 60000);
  
  // Fetch data on initial load
  fetchMemoryData();
  </script>
  

</body>
</html>
